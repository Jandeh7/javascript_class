<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        @keyframes pop {
            0%   {width:0px; height: 0px;}
            100% {width: 350px; height: 350px;}
        }
    </style>
</head>
<body>

    <video id="video" controls>

    </video>
    
    

    <button onclick="drawCircle().then(writeText())">Circle</button>
    <div id="circle">
        <p id="text"></p>
    </div>

    <script>
     
    

        createVideo("http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4").then(
            playVideo()
        ).catch(function(error){
           // do something
          alert(error)
        })
        
        function createVideo(videoSource) {
      
            return new Promise(function(resolve,reject){

                let source = document.createElement('source');
                // add video source
             source.src = videoSource;
             source.type = "video/mp4"

             video.appendChild(source);
             // create video on page load
             video.onload = () => resolve(video);

             video.onerror = () => reject(new Error("Video source not valid"));

    
             })
        }
        
        function playVideo(){
           return new Promise (function(resolve,reject){
               var video = document.getElementById('video');
               resolve(video.play());
           })
        }

        function drawCircle(){
            return new Promise(function(resolve,reject){
                circle = document.getElementById('circle');
                document.getElementById('text').innerHTML = "";
                circle.style.cssText= "display:flex; justify-content:center; align-items:center; background-color:violet;  border-radius:50%; position:fixed; margin: 1rem auto; animation:pop 1.5s ease-out forwards;"
                document.body.appendChild(circle);
            })
            
        }

        function writeText(){
           
            setTimeout(() => {
                var cont = document.getElementById('circle');
                let text = "";
                text = document.getElementById('text');
                text.style.cssText = "color: #fff; font-size: 2rem;"
                text.innerHTML = "TIIDELab...";
                
                cont.appendChild(text);
            }, 2000);
            // return new Promise (function(resolve,reject){
            //     var cont = document.getElementById('circle');
            //     var text = document.createElement('p');
            //     cont.appendChild(text)
            //     text.setAttribute('id', 'write');
                
            //     resolve(document.getElementById('write').innerHTML = "TIIDELab is great!");
            // })
        }


    </script>
</body>
</html>












